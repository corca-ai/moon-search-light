# Moon Search Light - Product Specification

**AI 기반 학술 논문 검색 및 연구 아이디어 도출 플랫폼**

Semantic Scholar API와 OpenAI를 활용한 논문 검색, 분석, 후속 연구 아이디어 도출 도구

---

## 1. 개요

### 1.1 목적
학술 연구자들이 관련 논문을 검색하고, AI 분석을 통해 논문을 파악하며, 선택한 논문들을 기반으로 후속 연구 아이디어를 도출할 수 있는 웹 애플리케이션

### 1.2 핵심 가치
- **효율적인 검색**: 키워드 기반 논문 검색 및 스마트 정렬
- **AI 요약**: 구조화된 한국어 논문 요약 (개요, 목표, 방법론, 결과)
- **Research Assistant**: AI 대화를 통한 후속 연구 아이디어 도출
- **시각적 프리뷰**: ArXiv 논문 스냅샷 이미지 제공

### 1.3 대상 사용자
- 학술 연구자
- 대학원생
- 후속 연구를 기획하는 연구자

---

## 2. 화면 구성

### 2.1 전체 레이아웃
- 최대 너비: `max-w-7xl` (1280px)
- 전체 높이: 뷰포트 100% 사용
- 상단 헤더: 타이틀 + 다운로드 버튼 (Assistant 활성 시)

### 2.2 Two-Column 레이아웃

**기본 상태 (Assistant 비활성)**
| 왼쪽 컬럼 | 오른쪽 컬럼 | 접힌 바 |
|-----------|-------------|---------|
| 검색창 + 검색 결과 | 선택됨 + 제외됨 + 분석 시작 버튼 | "Assistant" |

**Assistant 활성 상태**
| 접힌 바 | 왼쪽 컬럼 | 오른쪽 컬럼 |
|---------|-----------|-------------|
| "검색" | 선택됨 + 제외됨 | Research Assistant (채팅) |

### 2.3 컬럼 토글 인디케이터
- 너비: 40px (`w-10`)
- 세로 텍스트 표시 (`writing-mode: vertical-rl`)
- 클릭 시 해당 모드로 전환
- 비활성 상태: 흐린 색상으로 표시

### 2.4 제외됨 영역
- 항상 하단에 고정 (`shrink-0`)
- 접기/펼치기 토글 지원 (▸/▼)

### 2.5 Assistant 영역
- 수직 전체 높이 사용: `h-[calc(100vh-140px)]`
- 채팅 메시지 + 활동 로그 통합 표시
- 채팅 입력: 바닥 고정 (`mt-auto`)

---

## 3. 검색 기능

### 3.1 검색 방식
- 단일 검색창에 키워드 입력
- Semantic Scholar API로 최대 100개 논문 검색
- 화면에는 상위 20개 논문 표시

### 3.2 스마트 정렬

**구체적 쿼리** (4단어 이상, 따옴표 포함, 50자 이상)
- 정확한 제목 일치 > 제목에 쿼리 포함 > 인용수 순

**단순 쿼리** (짧은 키워드)
- 인용수 순으로 정렬

### 3.3 추가 정렬 옵션
- 관련성 (기본)
- 최신순
- 인용순

---

## 4. 논문 카드

### 4.1 표시 정보
- 논문 제목
- 발행 연도 / 인용 수
- AI 분석 결과 (개요, 목표, 방법론, 결과)
- 키워드 태그 (클릭 시 검색창에 추가)
- 스냅샷 이미지 (최대 3개)
- 논문 보기 링크

### 4.2 액션 버튼
| 영역 | 버튼 | 동작 |
|------|------|------|
| 검색 결과 | ☆ | 선택됨으로 이동 |
| 검색 결과 | × | 제외됨으로 이동 |
| 선택됨 | ★ | 검색 결과로 복귀 |
| 제외됨 | 복원 | 검색 결과로 복귀 |

---

## 5. AI 요약 기능

### 5.1 요약 구조
| 항목 | 설명 |
|------|------|
| 개요 | 논문의 전체적인 내용 요약 |
| 목표 | 논문이 해결하고자 하는 문제 |
| 방법론 | 문제 해결을 위한 접근 방식 |
| 결과 | 주요 결과 및 기여점 |

### 5.2 요약 처리 방식
- 배치 크기: 3개씩 순차 처리
- 정렬 기준(관련성/최신순/인용순)에 따라 상위부터 처리
- 앞선 3개 완료 후 다음 3개 처리
- **Assistant 비활성 시**: 선택된 논문 전체 + 정렬 기준 상위 3개
- **Assistant 활성 시**: 선택된 논문만 요약 (검색 결과 요약 중단)

### 5.3 키워드 추출
- 논문당 3-5개 핵심 키워드 (영어)
- 클릭 시 검색창에 자동 추가

---

## 6. Research Assistant

### 6.1 활성화 조건
- 1개 이상의 논문 선택 필요

### 6.2 활성화 시 동작
1. 선택된 논문들의 통합 컨텍스트 자동 생성
2. 공통 문제, 공통 방법론, 차이점, 연구 지형 분석
3. 채팅 인터페이스로 후속 대화 진행

### 6.3 채팅 기능
AI와 자유로운 대화를 통해:
- 논문 비교 분석
- Research Gap 식별
- 후속 연구 아이디어 제안
- 연구 계획서 작성 지원

### 6.4 연구 개요 다운로드
- 타이틀 영역에 "연구 개요 다운로드" 버튼 표시
- 대화 내용이 있을 때만 활성화
- 포함 내용: 분석 대상 논문 목록, 대화 내용 전체
- 파일명: `research-overview-{timestamp}.md`

### 6.5 활동 이력
- 채팅 메시지와 동일한 흐름으로 표시
- 시스템 메시지 스타일 (중앙 정렬, 작은 글씨)
- 검색, 선택, 제외, 정렬 변경 등 실시간 기록

### 6.6 분석 결과 기억
- 비활성화 시 대화 내용 유지
- 재활성화 시:
  - 동일한 논문 선택 → 기존 대화 복원
  - 다른 논문 선택 → 새로 분석 수행
- 선택 논문이 없으면 초기화

---

## 7. 이미지 스냅샷

### 7.1 데이터 출처
- ArXiv 논문의 주요 페이지 캡처 이미지
- 논문 제목 기반 매칭

### 7.2 표시 방식
- 논문당 최대 3개 썸네일
- 클릭 시 전체 화면 모달로 확대

---

## 8. 외부 링크

### 8.1 Moonlight 연동
PDF URL이 있는 논문:
- themoonlight.io에서 논문 열람

### 8.2 기본 링크
PDF URL이 없는 논문:
- Semantic Scholar 페이지로 이동

---

## 9. 기술 스택

| 영역 | 기술 |
|------|------|
| Frontend | Next.js 15, React, TypeScript, Tailwind CSS |
| AI | OpenAI GPT-4o-mini |
| 검색 | Semantic Scholar API |
| 이미지 | Moonlight API |

---

## 10. API 엔드포인트

| 경로 | 용도 |
|------|------|
| /api/search | 논문 검색 |
| /api/summarize | 논문 AI 요약 |
| /api/paper-images | 스냅샷 이미지 조회 |
| /api/context-summary | 통합 컨텍스트 생성 |
| /api/chat | AI 채팅 (스트리밍) |

---

## 11. 디자인

### 11.1 컬러 테마
- **모노톤 (그레이)** 기반
- 라이트 모드: 흰색 배경 (`bg-white`)
- 다크 모드: 어두운 회색 배경 (`dark:bg-gray-900`)
- 테두리: `border-gray-200` / `dark:border-gray-700`

### 11.2 타이포그래피
| 요소 | 크기 | 클래스 |
|------|------|--------|
| 페이지 타이틀 | xl | `text-xl font-medium` |
| 섹션 헤더 | base | `text-base font-medium` |
| 논문 제목 | base | `text-base font-medium` |
| 본문 텍스트 | base | `text-base` |
| 보조 텍스트 | sm | `text-sm` |
| 메타 정보 | sm | `text-sm text-gray-500` |

### 11.3 버튼 스타일
| 종류 | 스타일 |
|------|--------|
| 주요 버튼 | `bg-gray-900 text-white` / `dark:bg-gray-100 dark:text-gray-900` |
| 보조 버튼 | `border border-gray-300 hover:bg-gray-100` |
| 액션 버튼 (☆/★/×) | `px-2 py-1 text-sm border rounded` |

### 11.4 카드 디자인
- 테두리: `border border-gray-200 dark:border-gray-700 rounded`
- 패딩: `p-4`
- 제외된 카드: `opacity-50`

### 11.5 입력 필드
- 패딩: `px-4 py-3`
- 테두리: `border border-gray-300 dark:border-gray-600 rounded`
- 포커스: `focus:ring-1 focus:ring-gray-400`

### 11.6 채팅 메시지
| 발신자 | 스타일 |
|--------|--------|
| 사용자 | `text-base p-4 bg-gray-100 dark:bg-gray-800 ml-8` |
| AI | `text-base p-4 bg-gray-50 dark:bg-gray-700 mr-8` |
| 시스템 (활동 로그) | `text-sm p-2 text-gray-500 text-center` |

### 11.7 레이아웃 간격
- 컬럼 간격: `gap-2`
- 카드 간격: `space-y-3`
- 섹션 간격: `mt-3`

### 11.8 반응형
- 최대 너비: `max-w-7xl`
- 좌우 패딩: `px-4`
- 수직 스크롤: 각 영역별 독립 스크롤

---

**Last Updated**: 2026-01-24
